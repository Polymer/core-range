<!--
    @license
    Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
    This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
    The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
    The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
    Code distributed by Google as part of the polymer project is also
    subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<!doctype html>
<html>
  <head>
    <title>core-range</title>
    
    <script src="../webcomponentsjs/webcomponents.js"></script>
    
    <link rel="import" href="core-range.html">
    <link rel="import" href="../core-input/core-input.html">
    <link rel="import" href="../layout/layout.html">
    
    <style>
    
      body {
        font-family: sans-serif;
      }
    
    </style>
  </head>
  
  <body>
    
    <dom-module name="x-progressbar">
        <style>
          
          :host {
            display: block;
            height: 40px;
            background-color: #555;
            border-radius: 4px;
            padding: 8px;
            box-shadow: inset 0px 2px 5px rgba(0, 0, 0, 0.5);
          }
          
          .progress {
            background-color: #999;
            height: 100%;
            border-radius: 4px;
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.5);
          }
          
          .progress-value {
            padding: 0 8px;
            font-size: 18px;
            color: #fff;
          }
          
        </style>

      <template>
        
        <core-range min="{{min}}" max="{{max}}" value="{{value}}" ratio="{{ratio}}"></core-range>
        
        <div id="wrapper" class="horizontal center layout progress" _style="width: {{ratio}}%;">
          <div class="progress-value">{{ratio}}%</div>
        </div>
        
      </template>
      <script>
        Polymer({
        is: 'x-progressbar',

        properties: {
            /**
             * The number that represents the current value.
             *
             * @attribute value
             * @type number
             * @default 0
             */
            value: {
                type: Number,
                value: 0,
                notify: true,
                reflectToAttribute: true,
            },

            /**
             * The number that indicates the minimum value of the range.
             *
             * @attribute min
             * @type number
             * @default 0
             */
            min: {
                type: Number,
                value: 0,
                notify: true,
                reflectToAttribute: true,
            },

            /**
             * The number that indicates the maximum value of the range.
             *
             * @attribute max
             * @type number
             * @default 100
             */
            max: {
                type: Number,
                value: 100,
                notify: true,
                reflectToAttribute: true,
            },

            /**
             * Specifies the value granularity of the range's value.
             *
             * @attribute step
             * @type number
             * @default 1
             */
            step: {
                type: Number,
                value: 1,
                notify: true,
                reflectToAttribute: true,
            },

            /**
             * Returns the ratio of the value.
             *
             * @attribute ratio
             * @type number
             * @default 0
             */
            ratio: {
                type: Number,
                notify: true,
                reflectToAttribute: true,
                observer: 'updateProgressValue'
            }
        },
        updateProgressValue: function (ratio) {
            this.$.wrapper.style.width = ratio + "%";
        }
    });
      </script>
    </dom-module>
    
    <x-progressbar min="0" max="200" value="120"></x-progressbar>
    
  </body>
</html>
